<div class="dashboard-container">
    <!-- Una sola tarjeta -->
    <div class="flex flex-col gap-s w-full blackBG border-radius-small spacing-l" style="max-height: calc(100vh - 80px); overflow-y: auto">

        <!-- Header con botón para atrás -->
        <div class="section-header flex items-center gap-m">
            <a href="/dashboard/opciones">
                <img src="/assets/icons/arrowleft.svg" alt="arrow left icon" class="icon">
            </a>
            <h1 class="text-l font-bold">Información personal</h1>
        </div>

        <!-- Sección de Perfil -->
        <div class="persona__avatar">
            <div style="position: relative;">
                <img src="/assets/defaultAvatar.svg" alt="Avatar de <%= @user&.name || 'Julian Varga' %>" class="avatar avatar--s">
                <div class="orangeBG border-radius-round icon-s flex justify-center items-center" style="position: absolute; bottom: 0; right: 0;">
                    <img src="/assets/icons/edit.svg" alt="edit icon" class="icon-s spacing-xs">
                </div>
            </div>
        </div>

        <!-- Información personal -->
        <form action="/dashboard/update_personal_info" method="post" class="flex flex-col gap-m text-primary">
            <!-- Nombre -->
            <div class="form-field">
                <label>Nombre</label>
                <div class="w-full">
                    <input type="text" name="full_name" value="<%= @user&.first_name || 'Julian' %>" class="w-full lightGrayBG border-radius-small text-m text-primary spacing-s noOutline" readonly>
                </div> 
            </div>

            <!-- Apellido -->
            <div class="form-field">
                <label>Apellido</label>
                <div class="w-full">
                    <input type="text" name="full_name" value="<%= @user&.last_name || 'Varga' %>" class="w-full lightGrayBG border-radius-small text-m text-primary spacing-s noOutline" readonly>
                </div>
            </div>

            <!-- DNI -->
            <div class="form-field">
                <label>DNI</label>
                <div class="w-full">
                    <input type="text" name="dni" value="<%= @user&.dni || '46309379' %>" class="w-full lightGrayBG border-radius-small text-m text-primary spacing-s noOutline" readonly>
                </div>
            </div>

            <!-- Email -->
            <div class="form-field">
                <label>Número de teléfono</label>
                <div style="position: relative;">
                    <input type="tel" name="phone" value="<%= @user&.email || 'jvarea@gmail.com' %>" class="w-full lightGrayBG border-radius-small text-m text-primary spacing-s noOutline" readonly>
                </div>
            </div>

            <!-- Direccion -->
            <div class="form-field">
                <label>Dirección</label>
                <div style="position: relative;">
                    <input type="tel" name="phone" value="<%= @user&.address || 'San Martín' %>" class="w-full lightGrayBG border-radius-small text-m text-primary spacing-s noOutline" readonly>
                </div>
            </div>


            <!-- Boton de Guardar (oculto por defecto) -->
            <div class="save-section" style="display: none; margin-top: var(--spacing-m);">
                <button type="submit" class="btn btn--orangeBG w-full noOutline font-bold" style="cursor: pointer;">
                    Guardar cambios
                </button>
            </div>
        </form>
    </div>
</div>